{
    "name": "AWS IoT",
    "description": "",
    "pages": [
        {
            "name": "AWS IoT",
            "description": "",
            "widgets": [
                {
                    "title": "Rule executions",
                    "layout": {
                        "height": 3,
                        "width": 4,
                        "row": 1,
                        "column": 1
                    },
                    "visualization": {
                        "id": "viz.bar"
                    },
                    "rawConfiguration": {
                        "nrqlQueries": [
                            {
                                "accountId": 0,
                                "query": "SELECT SUM(`aws.iot.TopicMatch`) FROM Metric FACET `aws.iot.RuleName` TIMESERIES AUTO UNTIL 6 minutes ago"
                            }
                        ]
                    }
                },
                {
                    "title": "Rules failures",
                    "layout": {
                        "height": 3,
                        "width": 4,
                        "row": 1,
                        "column": 5
                    },
                    "visualization": {
                        "id": "viz.line"
                    },
                    "rawConfiguration": {
                        "nrqlQueries": [
                            {
                                "accountId": 0,
                                "query": "SELECT SUM(`aws.iot.RuleNotFound`) as `Rule not found`, SUM(`aws.iot.ParseError`) as `Parse error`, SUM(`aws.iot.RuleMessageThrottled`) as `Messages throttled` FROM Metric TIMESERIES AUTO UNTIL 6 minutes AGO"
                            }
                        ]
                    }
                },
                {
                    "title": "Rules action failures",
                    "layout": {
                        "height": 3,
                        "width": 4,
                        "row": 4,
                        "column": 1
                    },
                    "visualization": {
                        "id": "viz.line"
                    },
                    "rawConfiguration": {
                        "nrqlQueries": [
                            {
                                "accountId": 0,
                                "query": "SELECT SUM(`aws.iot.Failure`) as `failure` FROM Metric TIMESERIES AUTO FACET `aws.iot.RuleName` UNTIL 6 minutes ago"
                            }
                        ]
                    }
                },
                {
                    "title": "Rule action failures (%)",
                    "layout": {
                        "height": 3,
                        "width": 4,
                        "row": 4,
                        "column": 5
                    },
                    "visualization": {
                        "id": "viz.line"
                    },
                    "rawConfiguration": {
                        "nrqlQueries": [
                            {
                                "accountId": 0,
                                "query": "SELECT sum(`aws.iot.Failure`) / sum(`aws.iot.TopicMatch`) * 100 FROM Metric FACET `aws.iot.RuleName` TIMESERIES AUTO UNTIL 6 minutes ago"
                            }
                        ]
                    }
                },
                {
                    "title": "",
                    "layout": {
                        "height": 6,
                        "width": 4,
                        "row": 1,
                        "column": 9
                    },
                    "visualization": {
                        "id": "viz.markdown"
                    },
                    "rawConfiguration": {
                        "text": "\n![AWS IoT Icon](https://integrations.nr-assets.net/providers/aws_iot.png) **AWS IoT** \n\nAWS IoT is a managed cloud platform that lets connected devices easily and securely interact with cloud applications and other devices. IoT can support billions of devices and trillions of messages, and can process and route those messages to AWS endpoints and to other devices reliably and securely.\n\n\n"
                    }
                },
                {
                    "title": "Broker connect errors",
                    "layout": {
                        "height": 3,
                        "width": 4,
                        "row": 4,
                        "column": 1
                    },
                    "visualization": {
                        "id": "viz.line"
                    },
                    "rawConfiguration": {
                        "nrqlQueries": [
                            {
                                "accountId": 0,
                                "query": "SELECT sum(`aws.iot.Connect.AuthError`) as `AuthError`, sum(`aws.iot.Connect.ClientError`) as `ClientError`, sum(`aws.iot.Connect.ServerError`) as `ServerError`, sum(`aws.iot.Connect.Throttle`) as `Throttle` FROM Metric TIMESERIES AUTO UNTIL 6 minutes ago"
                            }
                        ]
                    }
                },
                {
                    "title": "Broker publish in errors",
                    "layout": {
                        "height": 3,
                        "width": 4,
                        "row": 7,
                        "column": 1
                    },
                    "visualization": {
                        "id": "viz.line"
                    },
                    "rawConfiguration": {
                        "nrqlQueries": [
                            {
                                "accountId": 0,
                                "query": "SELECT sum(`aws.iot.PublishIn.AuthError`) as `AuthError`, sum(`aws.iot.PublishIn.ClientError`) as `ClientError`, sum(`aws.iot.PublishIn.ServerError`) as `ServerError`, sum(`aws.iot.PublishIn.Throttle`) as `Throttle` FROM Metric TIMESERIES AUTO UNTIL 6 minutes ago"
                            }
                        ]
                    }
                },
                {
                    "title": "Broker subscription errors",
                    "layout": {
                        "height": 3,
                        "width": 4,
                        "row": 7,
                        "column": 5
                    },
                    "visualization": {
                        "id": "viz.line"
                    },
                    "rawConfiguration": {
                        "nrqlQueries": [
                            {
                                "accountId": 0,
                                "query": "SELECT sum(`aws.iot.Subscribe.AuthError`) as `AuthError`, sum(`aws.iot.Subscribe.ClientError`) as `ClientError`, sum(`aws.iot.Subscribe.ServerError`) as `ServerError`, sum(`aws.iot.Subscribe.Throttle`) as `Throttle` FROM Metric TIMESERIES AUTO UNTIL 6 minutes ago"
                            }
                        ]
                    }
                },
                {
                    "title": "Broker publish out errors",
                    "layout": {
                        "height": 3,
                        "width": 4,
                        "row": 10,
                        "column": 1
                    },
                    "visualization": {
                        "id": "viz.line"
                    },
                    "rawConfiguration": {
                        "nrqlQueries": [
                            {
                                "accountId": 0,
                                "query": "SELECT sum(`aws.iot.PublishOut.AuthError`) as `AuthError`, sum(`aws.iot.PublishOut.ClientError`) as `ClientError` FROM Metric TIMESERIES AUTO UNTIL 6 minutes ago"
                            }
                        ]
                    }
                },
                {
                    "title": "Broker unsubscription errors",
                    "layout": {
                        "height": 3,
                        "width": 4,
                        "row": 10,
                        "column": 5
                    },
                    "visualization": {
                        "id": "viz.line"
                    },
                    "rawConfiguration": {
                        "nrqlQueries": [
                            {
                                "accountId": 0,
                                "query": "SELECT sum(`provider.unsubscribe.AuthError`) as `AuthError`, sum(`aws.iot.Unsubscribe.ClientError`) as `ClientError`, sum(`aws.iot.Unsubscribe.ServerError`) as `ServerError`, sum(`aws.iot.Unsubscribe.Throttle`) as `Throttle` FROM Metric TIMESERIES AUTO UNTIL 6 minutes ago"
                            }
                        ]
                    }
                }
            ]
        }
    ]
}